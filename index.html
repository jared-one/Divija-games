<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Divija's Game Archive</title>
    <!-- Prevents 404 error -->
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #050505;
            --term-green: #e0e0e0;
            --dim-grey: #555555;
            --border-color: #ffffff;
        }

        * {
            box-sizing: border-box;
            cursor: default;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--term-green);
            font-family: 'VT323', monospace;
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            user-select: none;
        }

        /* --- LAYERS --- 
           -1: Memory Dust BG
            0: Body
           10: Main Container
           99: Vignette
           100: CRT Scanlines
           5000: Intro Screen
        */

        /* --- CRT EFFECT --- */
        .crt-overlay {
            position: fixed;
            top: 0; left: 0; width: 100vw; height: 100vh;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%);
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 100;
            animation: flicker 0.15s infinite;
        }
        
        .crt-overlay::after {
            content: "";
            position: absolute;
            top: 0; left: 0; width: 100%; height: 10px;
            background: rgba(255, 255, 255, 0.05);
            animation: scan 6s linear infinite;
        }

        .vignette {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            box-shadow: 0 0 150px rgba(0,0,0,0.9) inset;
            pointer-events: none;
            z-index: 99;
        }

        /* --- INTRO SCREEN --- */
        #intro-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: #000;
            z-index: 5000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 2s ease-in-out;
        }

        .intro-content {
            text-align: center;
            color: white;
            font-family: 'Press Start 2P', cursive;
            position: relative;
            z-index: 5001;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 200px; /* Keeps layout stable */
        }

        /* The Soul in the Intro */
        .intro-soul {
            width: 40px;
            height: 40px;
            fill: white;
            animation: heartbeat 1.5s infinite;
            margin-bottom: 30px;
            cursor: pointer;
            transition: all 0.5s ease;
        }
        
        .intro-soul:hover { 
            transform: scale(1.1); 
            filter: drop-shadow(0 0 8px white); 
        }

        .intro-soul.activated {
            transform: scale(3);
            opacity: 0;
            filter: drop-shadow(0 0 20px white);
        }

        .click-to-start {
            font-size: 0.8rem;
            color: #888;
            margin-top: 20px;
            animation: pulse-text 2s infinite;
            transition: opacity 0.5s;
        }

        .typewriter-text {
            font-size: 1.2rem;
            line-height: 1.8;
            height: 2rem;
            text-shadow: 0 0 10px white;
            opacity: 1;
            transition: opacity 1s;
        }

        /* --- IMPROVED BACKGROUND MEMORY DUST --- */
        #memory-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; 
            overflow: hidden;
            background: #020202; /* Very deep dark grey */
        }

        .mote {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            bottom: -50px; /* Start below screen */
            animation-name: riseAndSway;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
        }

        /* --- MAIN CONTAINER --- */
        .container {
            width: 90%;
            max-width: 1200px;
            height: 85vh;
            border: 4px solid var(--border-color);
            padding: 2rem;
            position: relative;
            display: flex;
            flex-direction: column;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.05);
            
            /* Hidden initially */
            opacity: 0; 
            transition: opacity 3s ease-in;
            z-index: 10;
            
            /* Semi-transparent to show dust behind */
            background: rgba(0, 0, 0, 0.85); 
            backdrop-filter: blur(2px);
        }

        .container::after {
            content: '';
            position: absolute;
            top: -6px; left: -6px; right: -6px; bottom: -6px;
            border: 1px solid var(--dim-grey);
            pointer-events: none;
        }

        header {
            text-align: center;
            margin-bottom: 2rem;
            border-bottom: 2px dashed var(--dim-grey);
            padding-bottom: 1rem;
        }

        h1 {
            font-family: 'Press Start 2P', cursive;
            font-size: 2rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 4px 4px 0px var(--dim-grey);
            margin: 0;
            line-height: 1.5;
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--dim-grey);
            margin-top: 15px;
            font-family: 'VT323', monospace;
        }

        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 2rem;
            flex-grow: 1;
            overflow-y: auto;
            padding: 1rem;
            align-items: start;
        }
        
        .game-grid::-webkit-scrollbar { width: 8px; }
        .game-grid::-webkit-scrollbar-track { background: #000; }
        .game-grid::-webkit-scrollbar-thumb { background: #555; }

        /* --- CARDS --- */
        .game-card {
            background: rgba(17, 17, 17, 0.9);
            border: 1px solid var(--dim-grey);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            padding: 2rem 1rem;
            height: 350px;
            text-decoration: none;
            color: var(--term-green);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .game-card:hover {
            border-color: #fff;
            transform: translateY(-5px);
            background: #1a1a1a;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.1);
        }

        .soul-icon {
            position: absolute;
            top: 50%; left: 10px;
            transform: translateY(-50%);
            width: 20px;
            opacity: 0;
            transition: opacity 0.2s;
        }
        .game-card:hover .soul-icon { opacity: 1; animation: heartbeat 1s infinite; }

        .svg-container {
            width: 100px; height: 100px;
            margin-bottom: 1.5rem;
            opacity: 0.8;
            transition: opacity 0.3s;
        }
        .game-card:hover .svg-container { opacity: 1; }

        .game-svg {
            width: 100%; height: 100%;
            fill: none; stroke: var(--term-green);
            stroke-width: 2; stroke-linecap: round; stroke-linejoin: round;
        }
        .game-card:hover .game-svg {
            stroke: #fff; stroke-width: 3;
            filter: drop-shadow(0 0 8px rgba(255,255,255,0.6));
        }

        .game-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.9rem;
            text-align: center;
            line-height: 1.6;
            margin-bottom: 1rem;
            height: 40px; 
            display: flex; align-items: center; justify-content: center;
        }
        
        .game-desc { 
            font-size: 1.1rem; 
            text-align: center; 
            color: var(--dim-grey); 
            font-style: italic;
        }
        .game-card:hover .game-desc { color: #fff; }

        .status-bar {
            margin-top: auto;
            border-top: 1px dashed var(--dim-grey);
            padding-top: 1rem;
            display: flex;
            justify-content: space-between;
            font-size: 1rem;
            font-family: 'Press Start 2P', cursive;
        }

        /* --- ANIMATIONS --- */
        @keyframes flicker {
            0% { opacity: 0.97; } 5% { opacity: 0.99; } 10% { opacity: 0.94; }
            50% { opacity: 0.98; } 100% { opacity: 0.96; }
        }

        @keyframes scan {
            0% { top: -10%; } 100% { top: 110%; }
        }

        @keyframes heartbeat {
            0% { transform: translateY(-50%) scale(1); }
            5% { transform: translateY(-50%) scale(1.1); }
            10% { transform: translateY(-50%) scale(1); }
            15% { transform: translateY(-50%) scale(1.2); }
            50% { transform: translateY(-50%) scale(1); }
            100% { transform: translateY(-50%) scale(1); }
        }

        @keyframes pulse-text {
            0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; }
        }

        /* Improved Drift Animation */
        @keyframes riseAndSway {
            0% { 
                transform: translate(0, 0); 
                opacity: 0; 
            }
            15% { opacity: var(--max-opacity); }
            50% { 
                transform: translate(var(--sway), -50vh); 
            }
            100% { 
                transform: translate(0, -120vh); 
                opacity: 0; 
            }
        }
    </style>
</head>
<body>

    <div class="crt-overlay"></div>
    <div class="vignette"></div>

    <!-- BACKGROUND: The Memory Void -->
    <div id="memory-bg"></div>

    <!-- INTRO SECTION -->
    <div id="intro-screen">
        <div class="intro-content">
            <!-- Clickable Heart -->
            <svg id="start-btn" class="intro-soul" viewBox="0 0 24 24">
                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
            </svg>
            
            <div id="intro-text" class="typewriter-text"></div>
            <div class="click-to-start">[ TOUCH THE SOUL ]</div>
        </div>
    </div>

    <!-- MAIN APP: The Archive -->
    <div class="container" id="main-container">
        <header>
            <h1>Divija's Game Archive</h1>
            <div class="subtitle">EST. 202X // SYSTEM READY BY JARED</div>
        </header>

        <div class="game-grid">
            <!-- Game 1 -->
            <a href="D1.html" class="game-card">
                <svg class="soul-icon" viewBox="0 0 24 24"><path fill="#fff" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                <div class="svg-container">
                    <svg class="game-svg" viewBox="0 0 100 100">
                        <path d="M20 90 L80 90 L80 80 L90 80 L90 70 L80 70 L80 30 L90 30 L90 20 L80 20 L80 10 L60 10 L60 20 L40 20 L40 10 L20 10 L20 20 L10 20 L10 30 L20 30 L20 70 L10 70 L10 80 L20 80 Z" />
                        <rect x="40" y="40" width="20" height="30" stroke="currentColor" fill="none"/>
                        <circle cx="50" cy="30" r="4" fill="currentColor"/>
                    </svg>
                </div>
                <div class="game-title">ARCHITECT<br>OF SOUL</div>
                <div class="game-desc">Build. Ascend. Define.</div>
            </a>
            
            <!-- Game 2 -->
            <a href="D2.html" class="game-card">
                <svg class="soul-icon" viewBox="0 0 24 24"><path fill="#fff" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                <div class="svg-container">
                    <svg class="game-svg" viewBox="0 0 100 100">
                        <path d="M50 50 m-5,0 a5,5 0 1,0 10,0 a5,5 0 1,0 -10,0" fill="currentColor"/>
                        <path d="M50 50 m-15,0 a15,15 0 1,0 30,0 a15,15 0 1,0 -30,0" stroke-dasharray="4 4"/>
                        <path d="M50 50 m-25,0 a25,25 0 1,0 50,0 a25,25 0 1,0 -50,0" />
                        <path d="M50 50 m-35,0 a35,35 0 1,0 70,0 a35,35 0 1,0 -70,0" stroke-dasharray="8 8"/>
                        <rect x="45" y="80" width="10" height="20" />
                    </svg>
                </div>
                <div class="game-title">ECHO</div>
                <div class="game-desc">The sound returns... eventually.</div>
            </a>

            <!-- Game 3 -->
            <a href="D3.html" class="game-card">
                <svg class="soul-icon" viewBox="0 0 24 24"><path fill="#fff" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                <div class="svg-container">
                    <svg class="game-svg" viewBox="0 0 100 100">
                        <path d="M50 10 L60 30 L90 30 L70 50 L80 90 L50 70 L20 90 L30 50 L10 30 L40 30 Z" />
                        <circle cx="50" cy="50" r="10" stroke="currentColor" fill="none"/>
                        <line x1="50" y1="10" x2="50" y2="30" />
                        <line x1="50" y1="70" x2="50" y2="90" />
                    </svg>
                </div>
                <div class="game-title">BLASTER</div>
                <div class="game-desc">Destroy. Dodge. Survive.</div>
            </a>

            <!-- Game 4 -->
            <a href="D4.html" class="game-card">
                <svg class="soul-icon" viewBox="0 0 24 24"><path fill="#fff" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                <div class="svg-container">
                    <svg class="game-svg" viewBox="0 0 100 100">
                        <path d="M10 10 L40 10 L30 40 L10 30 Z" />
                        <path d="M50 5 L90 15 L80 40 L60 30 Z" />
                        <path d="M15 50 L45 45 L50 80 L20 90 Z" />
                        <path d="M60 50 L95 55 L85 90 L55 85 Z" />
                        <line x1="0" y1="100" x2="100" y2="0" stroke-width="1" stroke-dasharray="2 2" />
                    </svg>
                </div>
                <div class="game-title">SHATTERED<br>REFLECTION</div>
                <div class="game-desc">Who are you looking at?</div>
            </a>
        </div>

        <div class="status-bar">
            <span>LV 1</span>
            <span>HP 20/20</span>
            <span>GOLD 0</span>
        </div>
    </div>

    <script>
        // --- 1. GENERATE IMPROVED BACKGROUND MEMORY MOTES ---
        const memoryBg = document.getElementById('memory-bg');
        const particleCount = 80;

        for (let i = 0; i < particleCount; i++) {
            let mote = document.createElement('div');
            mote.className = 'mote';
            
            // Random horizontal position (0 to 100%)
            mote.style.left = Math.random() * 100 + '%';
            
            // Random size & Blur (Parallax Effect)
            let randomScale = Math.random();
            if (randomScale > 0.8) {
                // Large, fast, blurry (Close to camera)
                mote.style.width = (Math.random() * 3 + 3) + 'px';
                mote.style.height = mote.style.width;
                mote.style.filter = 'blur(1px)';
                mote.style.setProperty('--max-opacity', Math.random() * 0.3 + 0.1);
                mote.style.zIndex = 2; 
                mote.style.setProperty('--duration', (Math.random() * 10 + 10) + 's');
            } else {
                // Small, slow, sharp (Far away)
                mote.style.width = (Math.random() * 2 + 1) + 'px';
                mote.style.height = mote.style.width;
                mote.style.setProperty('--max-opacity', Math.random() * 0.6 + 0.3);
                mote.style.zIndex = 0;
                mote.style.setProperty('--duration', (Math.random() * 20 + 20) + 's');
            }

            // Sway amount (-50px to 50px)
            let sway = (Math.random() * 100 - 50) + 'px';
            mote.style.setProperty('--sway', sway);
            
            // Stagger animation start
            mote.style.animationDelay = (Math.random() * -30) + 's'; 

            memoryBg.appendChild(mote);
        }

        // --- 2. ROBUST INTRO SEQUENCE LOGIC ---
        const startBtn = document.getElementById('start-btn');
        const introScreen = document.getElementById('intro-screen');
        const introTextDiv = document.getElementById('intro-text');
        const mainContainer = document.getElementById('main-container');
        const clickPrompt = document.querySelector('.click-to-start');
        
        const bgm = new Audio('Undertale OST - MEMORY (Build Up Ver.) (Piano & Orchestra Cover).mp3');
        bgm.loop = true;

        // Prevent double-triggering
        let isIntroPlaying = false;

        // Async Sleep Helper
        const sleep = (ms) => new Promise(r => setTimeout(r, ms));

        // Robust Typewriter using Async/Await
        async function typeText(text) {
            introTextDiv.innerHTML = ""; // Clear
            introTextDiv.style.opacity = 1;
            
            for (let i = 0; i < text.length; i++) {
                introTextDiv.innerHTML += text.charAt(i);
                await sleep(50); // Typing speed
            }
        }

        startBtn.addEventListener('click', async () => {
            if (isIntroPlaying) return;
            isIntroPlaying = true;

            try {
                // 1. Start Audio
                bgm.currentTime = 9;
                await bgm.play();

                // 2. Animate Soul Interaction
                clickPrompt.style.opacity = 0;
                startBtn.classList.add('activated');
                await sleep(600); // Wait for soul animation
                
                // Hide soul completely
                startBtn.style.display = 'none';
                clickPrompt.style.display = 'none';

                // 3. Play Text Sequence
                await typeText("The Fade entrenched the earth.");
                await sleep(2000); // Read time

                // Fade out text 1
                introTextDiv.style.opacity = 0;
                await sleep(1000); // Fade out time
                await typeText("Yet the Archive remained.");
                await sleep(2000); // Read time
                introTextDiv.style.opacity = 0;
                await sleep(1000); 

                // 4. Reveal Archive
                introScreen.style.opacity = 0;
                mainContainer.style.opacity = 1;

                await sleep(2000);
                introScreen.style.display = 'none';

            } catch (err) {
                console.error("Intro Error:", err);
                // Fallback if anything breaks
                introScreen.style.display = 'none';
                mainContainer.style.opacity = 1;
            }
        });

        // --- 3. ARCADE INTERACTIONS ---
        const cards = document.querySelectorAll('.game-card');
        cards.forEach(card => {
            card.addEventListener('mouseenter', () => {
                const title = card.querySelector('.game-title').innerText.replace('\n', ' ');
                console.log('Soul moved to ' + title);
            });
        });
    </script>
</body>
</html>
